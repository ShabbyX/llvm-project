import("//build_overrides/llvm.gni")

static_library("Orc") {
  output_name = "LLVMOrcJIT"
  deps = [
    "//${llvm_build_root}/secondary/llvm/lib/ExecutionEngine",
    "//${llvm_build_root}/secondary/llvm/lib/ExecutionEngine/JITLink",
    "//${llvm_build_root}/secondary/llvm/lib/ExecutionEngine/Orc/Shared",
    "//${llvm_build_root}/secondary/llvm/lib/ExecutionEngine/Orc/TargetProcess",
    "//${llvm_build_root}/secondary/llvm/lib/ExecutionEngine/RuntimeDyld",
    "//${llvm_build_root}/secondary/llvm/lib/IR",
    "//${llvm_build_root}/secondary/llvm/lib/Object",
    "//${llvm_build_root}/secondary/llvm/lib/Passes",
    "//${llvm_build_root}/secondary/llvm/lib/Support",
    "//${llvm_build_root}/secondary/llvm/lib/TargetParser",
    "//${llvm_build_root}/secondary/llvm/lib/Transforms/Utils",
    "//${llvm_build_root}/secondary/llvm/lib/WindowsDriver",
  ]
  sources = [
    "COFFPlatform.cpp",
    "COFFVCRuntimeSupport.cpp",
    "CompileOnDemandLayer.cpp",
    "CompileUtils.cpp",
    "Core.cpp",
    "DebugObjectManagerPlugin.cpp",
    "DebugUtils.cpp",
    "DebuggerSupportPlugin.cpp",
    "ELFNixPlatform.cpp",
    "EPCDebugObjectRegistrar.cpp",
    "EPCDynamicLibrarySearchGenerator.cpp",
    "EPCEHFrameRegistrar.cpp",
    "EPCGenericDylibManager.cpp",
    "EPCGenericJITLinkMemoryManager.cpp",
    "EPCGenericRTDyldMemoryManager.cpp",
    "EPCIndirectionUtils.cpp",
    "ExecutionUtils.cpp",
    "ExecutorProcessControl.cpp",
    "IRCompileLayer.cpp",
    "IRTransformLayer.cpp",
    "IndirectionUtils.cpp",
    "JITTargetMachineBuilder.cpp",
    "LLJIT.cpp",
    "Layer.cpp",
    "LazyReexports.cpp",
    "LookupAndRecordAddrs.cpp",
    "MachOPlatform.cpp",
    "Mangling.cpp",
    "MapperJITLinkMemoryManager.cpp",
    "MemoryMapper.cpp",
    "ObjectFileInterface.cpp",
    "ObjectLinkingLayer.cpp",
    "ObjectTransformLayer.cpp",
    "OrcABISupport.cpp",
    "OrcV2CBindings.cpp",
    "RTDyldObjectLinkingLayer.cpp",
    "SimpleRemoteEPC.cpp",
    "SpeculateAnalyses.cpp",
    "Speculation.cpp",
    "TaskDispatch.cpp",
    "ThreadSafeModule.cpp",
  ]
  configs += llvm_code_override_configs_append
  configs -= llvm_code_override_configs_remove
}
