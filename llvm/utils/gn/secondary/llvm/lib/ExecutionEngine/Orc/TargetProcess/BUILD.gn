import("//build_overrides/llvm.gni")

static_library("TargetProcess") {
  output_name = "LLVMOrcTargetProcess"
  deps = [
    "//${llvm_root}llvm/lib/ExecutionEngine/Orc/Shared",
    "//${llvm_root}llvm/lib/Support",
    "//${llvm_root}llvm/lib/TargetParser",
  ]
  sources = [
    "ExecutorSharedMemoryMapperService.cpp",
    "JITLoaderGDB.cpp",
    "OrcRTBootstrap.cpp",
    "RegisterEHFrames.cpp",
    "SimpleExecutorDylibManager.cpp",
    "SimpleExecutorMemoryManager.cpp",
    "SimpleRemoteEPCServer.cpp",
    "TargetExecutionUtils.cpp",
  ]
  if (current_os == "linux") {
    libs = [ "rt" ]
  }
}
