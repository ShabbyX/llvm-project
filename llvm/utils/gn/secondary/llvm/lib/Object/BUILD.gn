import("//build_overrides/llvm.gni")

static_library("Object") {
  output_name = "LLVMObject"
  deps = [
    "//${llvm_build_root}/secondary/llvm/include/llvm/Config:llvm-config",
    "//${llvm_build_root}/secondary/llvm/include/llvm/Support:write_vcsrevision",
    "//${llvm_build_root}/secondary/llvm/lib/BinaryFormat",
    "//${llvm_build_root}/secondary/llvm/lib/Bitcode/Reader",
    "//${llvm_build_root}/secondary/llvm/lib/IR",
    "//${llvm_build_root}/secondary/llvm/lib/IRReader",
    "//${llvm_build_root}/secondary/llvm/lib/MC",
    "//${llvm_build_root}/secondary/llvm/lib/MC/MCParser",
    "//${llvm_build_root}/secondary/llvm/lib/Support",
    "//${llvm_build_root}/secondary/llvm/lib/TargetParser",
    "//${llvm_build_root}/secondary/llvm/lib/TextAPI",
  ]

  sources = [
    "Archive.cpp",
    "ArchiveWriter.cpp",
    "Binary.cpp",
    "BuildID.cpp",
    "COFFImportFile.cpp",
    "COFFModuleDefinition.cpp",
    "COFFObjectFile.cpp",
    "DXContainer.cpp",
    "Decompressor.cpp",
    "ELF.cpp",
    "ELFObjectFile.cpp",
    "Error.cpp",
    "FaultMapParser.cpp",
    "GOFFObjectFile.cpp",
    "IRObjectFile.cpp",
    "IRSymtab.cpp",
    "MachOObjectFile.cpp",
    "MachOUniversal.cpp",
    "MachOUniversalWriter.cpp",
    "Minidump.cpp",
    "ModuleSymbolTable.cpp",
    "Object.cpp",
    "ObjectFile.cpp",
    "OffloadBinary.cpp",
    "RecordStreamer.cpp",
    "RelocationResolver.cpp",
    "SymbolSize.cpp",
    "SymbolicFile.cpp",
    "TapiFile.cpp",
    "TapiUniversal.cpp",
    "WasmObjectFile.cpp",
    "WindowsMachineFlag.cpp",
    "WindowsResource.cpp",
    "XCOFFObjectFile.cpp",
  ]
  configs += llvm_code_override_configs_append
  configs -= llvm_code_override_configs_remove
}
