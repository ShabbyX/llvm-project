import("//build_overrides/llvm.gni")

static_library("IPO") {
  output_name = "LLVMipo"
  deps = [
    "//${llvm_root}llvm/lib/Analysis",
    "//${llvm_root}llvm/lib/Bitcode/Reader",
    "//${llvm_root}llvm/lib/Bitcode/Writer",
    "//${llvm_root}llvm/lib/Frontend/OpenMP",
    "//${llvm_root}llvm/lib/IR",
    "//${llvm_root}llvm/lib/IRReader",
    "//${llvm_root}llvm/lib/Linker",
    "//${llvm_root}llvm/lib/Object",
    "//${llvm_root}llvm/lib/ProfileData",
    "//${llvm_root}llvm/lib/Support",
    "//${llvm_root}llvm/lib/TargetParser",
    "//${llvm_root}llvm/lib/Transforms/AggressiveInstCombine",
    "//${llvm_root}llvm/lib/Transforms/InstCombine",
    "//${llvm_root}llvm/lib/Transforms/Instrumentation",
    "//${llvm_root}llvm/lib/Transforms/Scalar",
    "//${llvm_root}llvm/lib/Transforms/Utils",
    "//${llvm_root}llvm/lib/Transforms/Vectorize",
  ]
  sources = [
    "AlwaysInliner.cpp",
    "Annotation2Metadata.cpp",
    "ArgumentPromotion.cpp",
    "Attributor.cpp",
    "AttributorAttributes.cpp",
    "BarrierNoopPass.cpp",
    "BlockExtractor.cpp",
    "CalledValuePropagation.cpp",
    "ConstantMerge.cpp",
    "CrossDSOCFI.cpp",
    "DeadArgumentElimination.cpp",
    "ElimAvailExtern.cpp",
    "EmbedBitcodePass.cpp",
    "ExtractGV.cpp",
    "ForceFunctionAttrs.cpp",
    "FunctionAttrs.cpp",
    "FunctionImport.cpp",
    "FunctionSpecialization.cpp",
    "GlobalDCE.cpp",
    "GlobalOpt.cpp",
    "GlobalSplit.cpp",
    "HotColdSplitting.cpp",
    "IPO.cpp",
    "IROutliner.cpp",
    "InferFunctionAttrs.cpp",
    "Inliner.cpp",
    "Internalize.cpp",
    "LoopExtractor.cpp",
    "LowerTypeTests.cpp",
    "MemProfContextDisambiguation.cpp",
    "MergeFunctions.cpp",
    "ModuleInliner.cpp",
    "OpenMPOpt.cpp",
    "PartialInlining.cpp",
    "SCCP.cpp",
    "SampleContextTracker.cpp",
    "SampleProfile.cpp",
    "SampleProfileProbe.cpp",
    "StripDeadPrototypes.cpp",
    "StripSymbols.cpp",
    "SyntheticCountsPropagation.cpp",
    "ThinLTOBitcodeWriter.cpp",
    "WholeProgramDevirt.cpp",
  ]
}
