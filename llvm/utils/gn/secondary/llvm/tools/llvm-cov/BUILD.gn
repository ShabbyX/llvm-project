import("//build_overrides/llvm.gni")

executable("llvm-cov") {
  deps = [
    "//${llvm_build_root}/secondary/llvm/include/llvm/Config:llvm-config",
    "//${llvm_build_root}/secondary/llvm/lib/Debuginfod",
    "//${llvm_build_root}/secondary/llvm/lib/IR",
    "//${llvm_build_root}/secondary/llvm/lib/Object",
    "//${llvm_build_root}/secondary/llvm/lib/ProfileData",
    "//${llvm_build_root}/secondary/llvm/lib/ProfileData/Coverage",
    "//${llvm_build_root}/secondary/llvm/lib/Support",
    "//${llvm_build_root}/secondary/llvm/lib/TargetParser",
  ]
  sources = [
    "CodeCoverage.cpp",
    "CoverageExporterJson.cpp",
    "CoverageExporterLcov.cpp",
    "CoverageFilters.cpp",
    "CoverageReport.cpp",
    "CoverageSummaryInfo.cpp",
    "SourceCoverageView.cpp",
    "SourceCoverageViewHTML.cpp",
    "SourceCoverageViewText.cpp",
    "TestingSupport.cpp",
    "gcov.cpp",
    "llvm-cov.cpp",
  ]
}
